{
    "_meta": {
        "card_id": "random_entry_smart_exit_v4_dydx",
        "card_name": "ğŸ² v4 dYdX å°é½Šç‰ˆ (50X + æ»‘é»æ¨¡æ“¬)",
        "description": "v4 å¡ç‰‡ + æ¨¡æ“¬ dYdX çœŸå¯¦äº¤æ˜“ç’°å¢ƒ: API é™åˆ¶ã€æ»‘é»ã€å»¶é²",
        "version": "4.1-dydx",
        "created_at": "2025-12-15",
        "market_condition": "dYdX çœŸå¯¦ç’°å¢ƒæ¨¡æ“¬",
        "risk_level": "experimental-dydx-realistic",
        "expected_win_rate": 0.50,
        "tags": ["experimental", "random-entry", "high-leverage", "50X", "dydx-aligned", "slippage-sim"],
        "theory": {
            "hypothesis": "æ¨¡æ“¬ dYdX çœŸå¯¦ç’°å¢ƒï¼Œæ¸¬è©¦ç­–ç•¥æ˜¯å¦ä»èƒ½ç²åˆ©",
            "key_principle": "Paper Trading å°é½Š dYdX é™åˆ¶",
            "dydx_constraints": {
                "api_rate_limit": "100 requests / 10 sec (Indexer REST)",
                "ioc_slippage": "0.1% worst case",
                "order_latency": "~2 ç§’ (API cooldown + ç¶²è·¯å»¶é²)",
                "min_hold_time": "15 ç§’ (ç­‰å¾…æˆäº¤ç¢ºèª)"
            },
            "slippage_simulation": {
                "entry_slippage_pct": 0.1,
                "exit_slippage_pct": 0.1,
                "total_round_trip_cost": "0.2% (é€²å‡ºå„ 0.1%)",
                "impact_on_pnl": "æ¯ç­†äº¤æ˜“é¡å¤–æˆæœ¬ 0.2%"
            },
            "math": {
                "åŸå§‹æ­¢ç›ˆ": "+2.5%",
                "æ‰£é™¤æ»‘é»å¾Œ": "+2.3% (2.5% - 0.2%)",
                "åŸå§‹æ­¢æ": "-0.75%",
                "æ‰£é™¤æ»‘é»å¾Œ": "-0.95% (-0.75% - 0.2%)",
                "æ–°æç›Šå¹³è¡¡å‹ç‡": "~55% (æ¯” v4 çš„ 52% é«˜)"
            }
        }
    },

    "_extends": "base_default",
    
    "_notes": {
        "experiment_purpose": [
            "æ¸¬è©¦ Paper Trading åœ¨ dYdX é™åˆ¶ä¸‹çš„è¡¨ç¾",
            "æ¨¡æ“¬çœŸå¯¦ IOC æ»‘é» 0.1%",
            "æ¨¡æ“¬ API å»¶é²å’Œå†·å»æ™‚é–“",
            "é©—è­‰ç­–ç•¥åœ¨çœŸå¯¦ç’°å¢ƒæ˜¯å¦ä»èƒ½ç²åˆ©"
        ],
        "dydx_simulation": {
            "slippage_entry": "è²·å…¥æ™‚åƒ¹æ ¼ +0.1% (LONG) æˆ– -0.1% (SHORT)",
            "slippage_exit": "è³£å‡ºæ™‚åƒ¹æ ¼ -0.1% (LONG) æˆ– +0.1% (SHORT)",
            "min_hold_time": "15 ç§’ (æ¨¡æ“¬ dYdX æˆäº¤ç¢ºèªæ™‚é–“)",
            "order_cooldown": "2 ç§’ (é¿å… 429 éŒ¯èª¤)"
        },
        "key_changes_from_v4": [
            "âœ… æ–°å¢ dydx_simulation å€å¡Š",
            "âœ… æ­¢ç›ˆèª¿é«˜è£œå„Ÿæ»‘é»: 2.5% â†’ 2.7%",
            "âœ… æ­¢æèª¿ä½è£œå„Ÿæ»‘é»: 0.75% â†’ 0.55%",
            "âœ… æœ€å°æŒå€‰æ™‚é–“: 15 ç§’ (åŸ 5 ç§’)",
            "âœ… äº¤æ˜“é–“éš”: 5 ç§’ (é¿å…é »ç¹ä¸‹å–®)"
        ]
    },

    "basic": {
        "symbol": "BTC/USDT",
        "leverage": 50,
        "leverage_min": 45,
        "leverage_max": 55,
        "position_size_usdt": 100.0,
        "_comment": "50X é«˜æ§“æ¡¿ï¼Œèˆ‡ v4 ç›¸åŒ"
    },

    "trading_mode": {
        "paper_mode": true,
        "reverse_mode": false,
        "contextual_mode": false,
        "strategy_card_enabled": true,
        "random_entry_mode": true
    },

    "pre_entry": {
        "pre_entry_mode": false,
        "pre_entry_threshold": 0.30,
        "pre_entry_cancel_threshold": 0.10,
        "pre_entry_timeout_sec": 10.0,
        "pre_entry_price_offset": 5.0
    },

    "targets_and_stops": {
        "target_profit_pct": 2.70,
        "target_profit_min_pct": 1.70,
        "target_profit_max_pct": 4.20,
        "stop_loss_pct": 0.55,
        "stop_loss_min_pct": 0.35,
        "stop_loss_max_pct": 0.80,
        "max_hold_minutes": 5.0,
        "max_hold_min_minutes": 2.0,
        "max_hold_max_minutes": 10.0,
        "_comment": "ğŸ”§ èª¿æ•´å¾Œ: æ­¢ç›ˆ+0.2%(è£œå„Ÿæ»‘é»), æ­¢æ-0.2%(ç¸®å°å®¹éŒ¯)"
    },

    "exit_rules": {
        "three_line_reversal_enabled": false,
        "_comment": "é—œé–‰ä¸‰ç·šåè½‰ï¼Œè®“ N%é–N% ç´”ç²¹æ§åˆ¶å‡ºå ´"
    },

    "profit_lock": {
        "use_n_lock_n": true,
        "use_midpoint_lock": true,
        "midpoint_ratio": 0.7,
        "n_lock_n_threshold": 0.75,
        "n_lock_n_buffer": 0.25,
        "profit_lock_stages": [
            [-999.0, 0.0, -0.55],
            [0.0, 0.50, -0.55],
            [0.50, 1.00, 0.0],
            [1.00, 1.50, 0.35],
            [1.50, 2.00, 0.70],
            [2.00, 999.0, 1.05]
        ],
        "_comment": "ğŸ”§ æ­¢æéšæ®µèª¿æ•´ç‚º -0.55% (è£œå„Ÿæ»‘é»)"
    },

    "signal_quality": {
        "min_probability": 0.00,
        "min_confidence": 0.00,
        "signal_confirm_seconds": 0,
        "min_signal_advantage": 0.00
    },

    "six_dim_system": {
        "six_dim_enabled": false,
        "six_dim_alignment_threshold": 0,
        "six_dim_min_score_to_trade": 0,
        "warmup_seconds": 0.0,
        "require_momentum_confirm": false,
        "allowed_directions": ["SHORT", "LONG"]
    },

    "price_confirm": {
        "price_confirm_enabled": false,
        "price_confirm_threshold": 0.00
    },

    "obi_line": {
        "obi_line_weight": 1,
        "obi_long_threshold": -0.50,
        "obi_short_threshold": 0.50,
        "obi_strong_threshold": 0.80
    },

    "momentum_line": {
        "momentum_line_weight": 1,
        "momentum_long_threshold": -0.50,
        "momentum_short_threshold": 0.50,
        "momentum_strong_threshold": 0.80
    },

    "volume_line": {
        "volume_line_weight": 1,
        "volume_long_threshold": 0.50,
        "volume_short_threshold": 1.50,
        "volume_strong_threshold": 2.00
    },

    "analysis_frequency": {
        "ws_interval_sec": 1.0,
        "analysis_interval_sec": 1.0,
        "min_trade_interval_sec": 5.0,
        "_comment": "ğŸ”§ äº¤æ˜“é–“éš” 5 ç§’ï¼Œé¿å…éåº¦é »ç¹"
    },

    "analysis_windows": {
        "fast_window_seconds": 5,
        "medium_window_seconds": 30,
        "slow_window_seconds": 120
    },

    "fees": {
        "maker_fee_pct": 0.005,
        "taker_fee_pct": 0.04,
        "use_maker_simulation": false,
        "maker_entry_batches": 1,
        "maker_entry_duration_sec": 0.0,
        "maker_price_offset_pct": 0.0,
        "_comment": "dYdX v4 æœ‰æ‰‹çºŒè²»ï¼›æ»‘é»ä»åœ¨ dydx_simulation æ¨¡æ“¬"
    },

    "risk_control": {
        "max_daily_trades": 500,
        "max_daily_loss_usdt": 50.0,
        "max_concurrent_positions": 1,
        "max_consecutive_losses": 999,
        "consecutive_loss_cooldown_min": 0,
        "obi_consistency_check": false,
        "consecutive_wins_to_restore": 1
    },

    "early_exit": {
        "early_stop_grace_sec": 15.0,
        "noise_stop_sigma": 2.0,
        "_comment": "ğŸ”§ grace æœŸé–“ 15 ç§’ (æ¨¡æ“¬ dYdX æœ€å°æŒå€‰æ™‚é–“)"
    },

    "whale_detection": {
        "whale_alert_threshold_usdt": 100000,
        "whale_emergency_threshold_usdt": 500000,
        "price_spike_enabled": true,
        "price_spike_threshold_pct": 0.50
    },

    "dynamic_profit": {
        "dynamic_profit_enabled": false,
        "smart_exit_gross_target": 3.0,
        "smart_exit_net_target": 2.5,
        "quick_profit_time_limit": 30.0,
        "no_momentum_enabled": false,
        "no_momentum_check_after_min": 5.0,
        "no_momentum_min_profit": 1.0,
        "no_momentum_loss_trigger": -0.2
    },

    "two_phase_exit": {
        "two_phase_exit_enabled": false,
        "phase1_fee_threshold_pct": 0.0,
        "phase1_strict_stop_loss_pct": 0.3,
        "phase1_target_pct": 1.0,
        "phase2_trailing_start_pct": 1.0,
        "phase2_trailing_offset_pct": 0.5,
        "phase2_max_target_pct": 5.0
    },

    "gpt_system": {
        "gpt_optimization_enabled": false,
        "gpt_trade_filter_enabled": false
    },

    "chase_protection": {
        "enabled": false,
        "same_direction_cooldown_sec": 10,
        "max_consecutive_same_direction": 10,
        "price_move_block_pct": 2.0,
        "score_decay_block_enabled": false,
        "description": "ğŸ² é—œé–‰è¿½å–®ä¿è­· - å…è¨±é »ç¹é€²å ´"
    },

    "early_exit_v2": {
        "enabled": true,
        "profit_drawdown_threshold": 0.50,
        "min_profit_for_drawdown_check": 2.7,
        "stall_time_threshold_sec": 60.0,
        "quick_reversal_drop_pct": 1.5,
        "grace_period_sec": 15.0,
        "six_dim_enabled": false,
        "opposite_score_increase_threshold": 10.0,
        "score_gap_narrowing_threshold": 5.0,
        "description": "ğŸ›¡ï¸ ä¿è­·ç²åˆ© - grace 15 ç§’å°é½Š dYdX",
        "_comment": "ğŸ”§ grace_period 15 ç§’ (æ¨¡æ“¬ dYdX æœ€å°æŒå€‰)"
    },

    "dydx_simulation": {
        "enabled": true,
        "entry_slippage_pct": 0.10,
        "exit_slippage_pct": 0.10,
        "min_hold_seconds": 15,
        "order_cooldown_seconds": 2.0,
        "api_latency_seconds": 0.5,
        "_comment": "ğŸ†• dYdX çœŸå¯¦ç’°å¢ƒæ¨¡æ“¬åƒæ•¸"
    },

    "random_entry_specific": {
        "entry_logic": "å¹¾ä¹éš¨æ©Ÿé€²å ´ (å…­ç¶­åˆ†æ•¸ >= 2 å³å¯)",
        "exit_logic": "N%é–N% + ä¸­é–“æ•¸70%é–åˆ© + åš´æ ¼æ­¢æ",
        "leverage": "50X (åŒ v4)",
        "slippage_impact": "é€²å‡ºå„ 0.1% = æ¯ç­†äº¤æ˜“æˆæœ¬ 0.2%",
        "adjusted_breakeven": "~55% å‹ç‡ (æ¯” v4 çš„ 52% é«˜)",
        "description": "ğŸ“Š v4 dYdX å°é½Šç‰ˆ - æ¨¡æ“¬çœŸå¯¦ç’°å¢ƒæ¸¬è©¦ç­–ç•¥ç©©å¥æ€§"
    }
}
