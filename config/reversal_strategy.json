{
  "_comment": "反轉策略動態配置 v1.0 - 2024/11/29",
  "_description": "當主力策略與價格走勢相反時，啟用反轉進場邏輯",
  "reversal_mode": {
    "enabled": true,
    "description": "反轉模式總開關",
    "rules": {
      "ACCUMULATION": {
        "normal_direction": "LONG",
        "reversal_direction": "SHORT",
        "reversal_condition": "當吸籌出現但價格持續下跌時，做空",
        "price_trigger": {
          "price_change_1m_threshold": -0.03,
          "description": "1分鐘跌幅超過 0.03% 觸發反轉"
        },
        "obi_trigger": {
          "obi_threshold": -0.2,
          "description": "OBI < -0.2 (偏賣) 確認反轉"
        }
      },
      "DISTRIBUTION": {
        "normal_direction": "SHORT",
        "reversal_direction": "LONG",
        "reversal_condition": "當派發出現但價格持續上漲時，做多",
        "price_trigger": {
          "price_change_1m_threshold": 0.03,
          "description": "1分鐘漲幅超過 0.03% 觸發反轉"
        },
        "obi_trigger": {
          "obi_threshold": 0.2,
          "description": "OBI > 0.2 (偏買) 確認反轉"
        }
      }
    }
  },
  "market_regime": {
    "current": "NORMAL",
    "description": "市場狀態: NORMAL(正常) / REVERSAL(反轉局)",
    "options": [
      "NORMAL",
      "REVERSAL"
    ],
    "detection": {
      "consecutive_losses_to_switch": 3,
      "description": "連續虧損 N 次後切換到反轉模式",
      "consecutive_wins_to_restore": 2,
      "description2": "連續獲利 N 次後恢復正常模式"
    }
  },
  "statistics": {
    "last_updated": "2025-12-27T09:05:02.044922",
    "total_trades": 0,
    "normal_mode_trades": 0,
    "reversal_mode_trades": 0,
    "normal_mode_wins": 0,
    "normal_mode_losses": 0,
    "reversal_mode_wins": 0,
    "reversal_mode_losses": 0,
    "consecutive_losses": 0,
    "consecutive_wins": 2,
    "regime_switches": [
      {
        "timestamp": "2025-11-29T03:36:40.606772",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-11-29T04:41:10.846575",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-03T13:22:00.916533",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-03T13:30:54.719805",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-04T01:11:18.078799",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T01:19:10.058169",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-04T01:45:39.296625",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T02:23:54.545592",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-04T15:31:49.260411",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T15:42:21.250992",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-04T19:05:36.550888",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T19:26:04.452558",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-04T19:48:56.849657",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T21:28:48.472766",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T22:23:42.930488",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-04T22:51:08.504877",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-04T23:59:14.964402",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T03:48:23.657668",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T04:05:04.899186",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-05T06:02:29.998126",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T06:21:47.559358",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-05T06:43:54.502872",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T07:24:59.765229",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-05T08:58:55.894924",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T09:48:47.608997",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T10:10:40.628241",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-05T11:31:46.313356",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T14:15:53.459469",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T22:18:38.093359",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-05T22:57:11.642823",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T14:37:58.067787",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T15:03:38.414614",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T16:03:45.412540",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T16:16:30.293599",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-08T16:18:59.258343",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T17:01:17.213981",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-08T17:19:50.660459",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T19:29:21.632811",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T22:14:50.091761",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-08T22:38:18.004259",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T02:46:59.157814",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-09T02:58:13.290904",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T03:08:35.860229",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-09T03:25:00.943177",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T03:36:28.241401",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-09T03:45:43.909827",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T03:55:25.418074",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-09T04:42:32.611096",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T04:49:31.853225",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-09T05:05:52.946230",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T05:10:44.127152",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-09T05:30:35.777813",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 2
      },
      {
        "timestamp": "2025-12-09T05:35:14.937848",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-15T22:43:32.751132",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-15T22:46:09.912911",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-15T23:12:15.192715",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:10:14.988001",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:43:32.263100",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:44:10.829250",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:44:38.128872",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:45:05.656612",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:45:32.792000",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:46:16.114490",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:49:57.147226",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:51:40.695124",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:54:31.420628",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:55:04.228298",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:55:48.415597",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:56:39.251196",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:58:18.882533",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T11:59:24.773388",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T11:59:51.717553",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:00:09.151733",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:00:35.935461",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:01:03.992442",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:01:41.906113",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:02:53.091854",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:05:03.908035",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:05:10.819976",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:05:58.442365",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:06:26.306902",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:06:53.933458",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:08:06.345165",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:08:34.329832",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-19T12:08:56.254957",
        "from": "REVERSAL",
        "to": "NORMAL",
        "consecutive_losses": 0,
        "consecutive_wins": 1
      },
      {
        "timestamp": "2025-12-19T12:09:23.443433",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 5,
        "consecutive_wins": 0
      },
      {
        "timestamp": "2025-12-24T12:00:21.737768",
        "from": "NORMAL",
        "to": "REVERSAL",
        "consecutive_losses": 3,
        "consecutive_wins": 0
      }
    ]
  },
  "trade_history": {
    "max_records": 100,
    "records": []
  }
}